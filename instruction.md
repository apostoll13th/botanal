Отвечаю как **ведущий системный аналитик и автор ТЗ для разработчиков финтех-ботов, призёр “Аналитик года”**.

---

## ТЕХНИЧЕСКОЕ ЗАДАНИЕ:

**“Добавление веб-интерфейса (UI) к Telegram-боту для анализа личных финансов”**

---

### 1. **Цель задачи**

Реализовать простой, наглядный и удобный веб-интерфейс для работы с данными Telegram-бота по учёту финансов.
Интерфейс должен позволять просматривать, анализировать и визуализировать личные финансовые данные, получаемые из единой базы данных (sqlite).

---

### 2. **Основные требования**

#### 2.1. **API-сервер**

* Реализовать REST API на Flask (или FastAPI) с CORS.
* Использовать существующую базу данных (expenses.db), которую использует Telegram-бот.
* Минимальные эндпоинты:

  * `/api/expenses/<user_id>` — все расходы пользователя.
  * `/api/expenses-summary/<user_id>` — агрегированные расходы по категориям за последние 30 дней.
  * `/api/incomes/<user_id>` — (опционально, если доходы будут).
  * `/api/budgets/<user_id>` — бюджеты пользователя.
  * `/api/goals/<user_id>` — цели пользователя.

#### 2.2. **Web UI**

* UI реализовать на React, Vue, Svelte или простой HTML+JS (выбрать наиболее удобный стек для исполнителя).
* Минимальные страницы/компоненты:

  * **Сводка расходов**: круговая диаграмма по категориям.
  * **Динамика расходов**: график по дням за месяц.
  * **Таблица всех операций**: фильтрация по датам и категориям.
  * **Отчёты по бюджетам и целям** (по необходимости).
* Все данные получать через API, никаких прямых запросов к базе из фронта.

#### 2.3. **Интеграция с Telegram**

* Ссылка на веб-интерфейс добавляется в главное меню бота (через InlineKeyboardButton с URL).
* Доступ к UI — по user\_id или Telegram username (можно простая авторизация через URL-параметр).

#### 2.4. **Развёртывание**

* Flask API и Web UI должны запускаться независимо (можно на одном сервере/разных портах).
* Обеспечить работу UI на локальной машине ([http://localhost:3000](http://localhost:3000) или иной порт).
* Документировать установку зависимостей и запуск.

---

### 3. **Пошаговый план реализации**

1. **Создать backend-папку с Flask-приложением**

   * Подключение к той же базе, что у Telegram-бота.
   * Реализация нужных эндпоинтов для выдачи расходов, агрегированных данных, целей и бюджетов.
   * Включить CORS для доступа с фронта.

2. **Создать frontend-папку с web-приложением**

   * Отрисовка графиков (Chart.js, Plotly.js, recharts).
   * Запрос данных с API.
   * Формы и фильтры для выбора периода, категории и т.д.

3. **Добавить кнопку с ссылкой на Web UI в Telegram-боте**

   * Ссылка типа: “Открыть личный кабинет”
   * Для теста: [http://localhost:3000/?user\_id=123456](http://localhost:3000/?user_id=123456)

4. **Обеспечить локальный запуск обеих частей**

   * README с командами по запуску.

---

### 4. **Результат**

* Пользователь может открыть web-интерфейс по ссылке из Telegram-бота.
* В интерфейсе отображаются:

  * Графики расходов по категориям.
  * Динамика расходов по дням/неделям/месяцам.
  * Таблицы операций с фильтрацией.
  * (опционально) Бюджеты и цели.

---

### 5. **Дополнительные пожелания**

* В будущем предусмотреть расширение API для доходов, прогнозов и экспорта (CSV/XLSX).
* UI должен работать на любых устройствах (адаптивность).

---

### 6. **Передача результата**

* Исходный код backend (Flask) и frontend (React/HTML).
* README по установке и запуску.
* Пример скриншота или короткого видео работы UI.

---

**Пояснение исполнителю:**
Все данные берутся из одной и той же базы (`expenses.db`).
Бот и web-интерфейс должны работать независимо, но с общей “точкой правды”.

---

**Сделать приоритетно:**

1. Эндпоинты для получения данных о расходах и агрегированной информации.
2. График “расходы по категориям за месяц” (pie chart).
3. Таблица расходов с фильтрацией по дате/категории.
4. Кнопку с ссылкой на web-UI в Telegram-боте.

---

**Примерная ссылка:**
[http://localhost:3000/?user\_id=123456](http://localhost:3000/?user_id=123456)
(где `user_id` = Telegram user\_id, который знает бот)

---

Если нужны уточнения, детали по авторизации или безопасности — оговорить заранее.

---

